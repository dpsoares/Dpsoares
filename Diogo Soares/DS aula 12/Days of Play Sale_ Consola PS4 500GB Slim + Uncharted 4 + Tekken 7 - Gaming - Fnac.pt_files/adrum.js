(function(){(function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var b=window.ADRUM={};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime();(function(a){a.beaconUrlHttp="http://col.eum-appdynamics.com";a.beaconUrlHttps="https://col.eum-appdynamics.com";a.appKey=window["adrum-app-key"]||"AD-AAB-AAA-DUH";var f="https:"===document.location.protocol;if(window["adrum-geo-resolver-url"]){var h=window["adrum-geo-resolver-url"],g=h.indexOf("://");-1!=g&&(h=h.substring(g+3));h=(f?"https://":"http://")+h}else{h=f?"":""}a.adrumExtUrl=(f?"https://cdn.appdynamics.com":"http://cdn.appdynamics.com")+"/adrum-ext.14ddc6154b98c5cd1e0fdee29556261f.js";a.sendImageBeacon="false";a.geoResolverUrl=h;a.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"];a.k;(function(c){function d(e){return 0<=e.location.search.indexOf("ADRUM_debug=true")||0<=e.cookie.search(/(^|;)\s*ADRUM_debug=true/)}c.sd=d;c.iDR=d})(a.a||(a.a={}));a.isDebug="false"})(b||(b={}));(function(f){f.logMessages=[];f.debug;f.warn;f.info;f.error;for(var g=["debug","warn","info","error"],i=0;i<g.length;i++){(function(c){f[c]=function(k,e){f.isDebug&&f.logMessages.push([c,Array.prototype.slice.call(arguments).join(" | ")])}})(g[i])}var h=0;(function(c){window.ADRUM.TPL=c;c.ea=function(d,k,n,l){d=n+"/eumcollector/error.gif?version=1&appKey="+l+"&msg="+encodeURIComponent(d.substring(0,500));k&&(d+="&stack=",d+=encodeURIComponent(k.substring(0,1500-d.length)));return d};c.cIEBU=c.ea;c.p=function(e,d){2<=h||((new Image).src=c.ea(e,d,f.beaconUrlHttps,f.appKey),h++)};c.dumpLog=f.isDebug?function(){for(var d="",l=0;l<f.logMessages.length;l++){var k=f.logMessages[l],d=d+("["+k[0]+"]\t"+k[1].replace(RegExp("<br>","g"),"\n\t")+"\n")}return d}:function(){}})(f.a||(f.a={}));var a=f.a,j=f.error;f.error=function(){for(var c=0;c<arguments.length-0;c++){}0<arguments.length&&(c=Array.prototype.slice.call(arguments).join(" | "),j(c),a.p(c,null))};f.exception=function(){if(!(1>arguments.length)){var c=Array.prototype.slice.call(arguments),d;d=(d=c[0])?(d=d.stack)&&"string"===typeof d?d:null:null;c=c.slice(1).join(" | ");j(c);a.p(c,d)}};f.assert=function(c,d){c||f.error("Assert fail: "+d)};f.info("M0")})(b||(b={}));(function(a){(function(d){var f=function(){function c(){this.Eb=[];this.Za(c.jb,0)}c.prototype.Wa=function(e){this.Za(c.Qb,e)};c.prototype.tb=function(e){this.Za(c.Tb,e)};c.prototype.Xa=function(e){this.Za(c.Rb,e)};c.prototype.Za=function(g,h){this.Eb.push({yd:(new Date).getTime(),xd:h,jc:g});this.dd=g};c.prototype.getPhaseID=function(e){for(var g=0;g<c.Sb.length;g++){if(c.Sb[g]===e){return g}}return null};c.prototype.getPhaseCallbackTime=function(g){for(var h=this.Eb,i=0;i<h.length;i++){if(h[i].jc===g){return h[i].yd}}return null};c.prototype.findPhaseAtNominalTime=function(e){a.assert(0<=e);for(var h=this.Eb,g=h.length-1;0<=g;g--){if(e>=h[g].xd){return h[g].jc}}a.error("M1",e,a.EXT.Wb(h));return c.jb};c.jb="AFTER_FIRST_BYTE";c.Qb="AFTER_DOM_INTERACTIVE";c.Tb="AT_ONLOAD";c.Rb="AFTER_ONLOAD";c.Sb=[c.jb,c.Qb,c.Tb,c.Rb];return c}();d.Qa=f})(a.a||(a.a={}))})(b||(b={}));(function(a){(function(d){d.nc=function(c){setTimeout(c,0)};d.bd=function(){a.navTiming=null;var h=window.performance||window.f||window.g||window.i;if(h&&h.timing){if(h=h.timing,h.navigationStart&&h.navigationStart<=h.loadEventEnd){var g={},f;for(f in h){var i=h[f];"number"===typeof i&&(g[f]=i)}a.navTiming=g}else{a.debug("M2")}}};d.cd=function(){a.resTiming=null;var c=window.performance||window.f||window.g||window.i;c&&c.getEntriesByType&&((c=c.getEntriesByType("resource"))&&c.length&&0!==c.length&&c.unshift?(a.resTiming=c,a.navTiming?(c=a.navTiming,c.initiatorType="other",c.name=document.URL,c.navigationStart&&!c.startTime&&(c.startTime=c.navigationStart),c.isBase=!0):c=null,c&&a.resTiming.unshift(c)):a.debug("M3"))}})(a.a||(a.a={}))})(b||(b={}));(function(a){(function(c){c.eb=100})(a.a||(a.a={}));var d=a.a;a.q=[];a.isDead=!1;a.command=function(f,c){a.isDebug&&a.debug("M4",f,Array.prototype.slice.call(arguments).slice(1).join(", "));a.isDead?a.debug("M5"):a.q.length>=d.eb?(a.info("M6"),a.q=[],a.isDead=!0):(a.q.push(Array.prototype.slice.call(arguments)),a.EXT&&a.EXT.processQ&&a.initEXTDone&&a.EXT.processQ())}})(b||(b={}));(function(a){(function(d){window.ADRUM.aop=d;d.support=function(c){return !c||"apply" in c};d.around=function(g,f,c,h){a.assert(d.support(g),"aop.around called on a function which does not support interception");g=g||function(){};return function(){a.isDebug&&a.debug("M7",h,Array.prototype.slice.call(arguments).join(", "));var k=Array.prototype.slice.call(arguments),i;try{f&&(i=f.apply(this,k))}catch(j){a.exception(j,"M8",h,j)}a.assert(!i||"[object Array]"===Object.prototype.toString.call(i));var e=void 0;try{e=g.apply(this,i||k)}finally{try{c&&c.apply(this,k)}catch(o){a.exception(o,"M9",h,o)}}return e}};d.before=function(c,e){return d.around(c,e)};d.after=function(c,e){return d.around(c,null,e)}})(a.b||(a.b={}))})(b||(b={}));(function(a){a.initEXTDone=!1;a.addEventListener=function(g,i,h){function f(){try{return h.apply(this,Array.prototype.slice.call(arguments))}catch(c){a.exception(c,"M11",i,g,c)}}a.isDebug&&a.debug("M10",i,g);g.addEventListener?g.addEventListener(i,f,!1):g.attachEvent&&g.attachEvent("on"+i,f)};a.compareWindows=function(c,d){return c==d};a.lifecycle=new a.a.Qa;a.listenForErrors=null;(function(){var d=!1;a.listenForErrors=function(){a.b.support(window.onerror)?(window.onerror=a.b.around(window.onerror,function(g,f,c){d||a.command("reportError",g,f,c);d=!0},function(){d=!1},"onerror"),a.windowErrorHandler=window.onerror,a.info("M12")):a.info("M13")}})();a.windowErrorHandler=window.onerror;a.navTiming=null;a.resTiming=null;a.j=function(d){a.lifecycle.tb(d&&d.timeStamp);a.a.nc(function(){var c=(new Date).getTime();a.lifecycle.Xa(c);a.command("mark","onload",c);a.a.bd();a.a.cd();a.command("reportOnload");a.e()});a.info("M14")};a.h=function(){function g(c){document.addEventListener?(document.removeEventListener("DOMContentLoaded",g,!1),j(c)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",g),j(c))}function j(c){i||(a.lifecycle.Wa(c&&c.timeStamp),a.command("mark","onready",(new Date).getTime()),i=!0)}var i=!1;if(document.addEventListener){document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",j,!1)}else{document.attachEvent("onreadystatechange",g);window.attachEvent("onload",j);var f=null;try{f=null===window.frameElement?document.documentElement:null}catch(l){}null!=f&&f.doScroll&&function k(){try{f.doScroll("left")}catch(c){setTimeout(k,10);return}j()}()}a.info("M15")};a.e=function(){var d=document.createElement("script");d.async=!0;d.src=a.adrumExtUrl;var f=document.getElementsByTagName("script")[0];f?(f.parentNode.insertBefore(d,f),a.info("M16")):a.info("M17")}})(b||(b={}));(function(a){a.startTimeCookie=null;a.cookieMetadataChunks=null;(function(d){d.M=function(i,h){function g(k){var m=[],n=E.exec(k);if(n){k=n[1];var n=n[2].replace(/^"|"$/g,""),n=decodeURIComponent(n).split("|"),l=n[0].split(":");if("R"===l[0]&&Number(l[1])===j){for(f(k),k=1;k<n.length;k++){m.push(n[k])}}}return m}function F(k){if(k=w.exec(k)){var m=k[1],n=k[4],l=k[5];if(Number(k[3])===j){return f(m),[Number(n),l]}}return null}function v(c){var k=o.exec(c);k&&(a.debug("M20",c),3===k.length?(a.startTimeCookie={startTime:Number(k[1]),startPage:k[2]},f("ADRUM")):a.error("M21",c))}function f(c){a.debug("M19",c);var k=new Date;k.setTime(k.getTime()-1000);document.cookie=c+"=;Expires="+k.toUTCString()}a.info("M18");for(var o=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/,j=h?h.length:0,w=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i,x=[],y=i.split(";"),B=0;B<y.length;B++){var C=y[B],D=F(C);D?x.push(D):v(C)}Array.prototype.sort.call(x,function(c,k){return c[0]-k[0]});C=[];for(B=0;B<x.length;B++){C.push(x[B][1])}for(var E=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i,B=0;B<y.length;B++){(x=g(y[B]))&&0<x.length&&(C=C.concat(x))}a.cookieMetadataChunks=C};d.eck=d.M})(a.a||(a.a={}))})(b||(b={}));(function(a){(function(c){c.Ub=function(){return function(g,f){if(("load"===g||"error"===g)&&f&&this._adrumXhrData){var i;i=f;if(i.__adrumInterceptor){i=i.__adrumInterceptor}else{if(a.b.support(i)){var h=d.Vb(i,this,"XHR.invokeEventListener");i=i.__adrumInterceptor=h}else{i=null}}if(i){return h=Array.prototype.slice.call(arguments),h[1]=i,a.debug("M22"),h}a.debug("M23",g,f)}}}})(a.a||(a.a={}));(function(h){if(!0===window["adrum-xhr-disable"]){a.info("M24")}else{if(window.XMLHttpRequest){if(h.I=window.XMLHttpRequest.prototype,h.I){if("open" in h.I&&"send" in h.I){if(a.b.support(h.I.open)&&a.b.support(h.I.send)){a.info("M29");a.xhrOpen=h.I.open;a.xhrSend=h.I.send;h.bc=function(k){var j=k._adrumXhrData;if(j){var i=(new Date).getTime();2==k.readyState?j.firstByteTime=j.firstByteTime||i:4==k.readyState&&(a.assert(null===j.respAvailTime,"M30"),j.respAvailTime=j.respAvailTime||i,j.firstByteTime=j.firstByteTime||i)}};h.d=function(k,j){var i=k.getAllResponseHeaders(),m=k.status;a.command("reportXhr",j,i,m,400<=m?k.responseText:null)};h.Vb=function(i,e,c){return g(i,function(){h.bc(this)},function(){var k=e._adrumXhrData;if(k&&4==e.readyState){var j=(new Date).getTime();a.assert(null===k.respProcTime,"M31");k.respProcTime=k.respProcTime||j;h.d(e,k);delete e._adrumXhrData}},c)};h.ab=function(j){if(j._adrumXhrData){var i=(new Date).getTime()+30000,e=function(){h.bc(j);var k=j._adrumXhrData;if(k){var c=(new Date).getTime();4==j.readyState?(a.assert(null===k.respProcTime,"M32"),k.respProcTime=k.respProcTime||c,a.debug("M33"),h.d(j,k),delete j._adrumXhrData):c<i?setTimeout(e,50):(delete j._adrumXhrData,a.debug("M34"))}};e()}};var g=function(m,k,i,l){var j=m;m&&"object"===typeof m&&"toString" in m&&"[xpconnect wrapped nsIDOMEventListener]"===m.toString()&&"handleEvent" in m&&(j=function(){m.handleEvent.apply(this,Array.prototype.slice.call(arguments))});return a.b.around(j,k,i,l)};h.I.open=a.b.around(h.I.open,function(){this._adrumXhrData={url:2<=arguments.length?String(arguments[1]):"",sendTime:null,firstByteTime:null,respAvailTime:null,respProcTime:null,parentPhase:null}},null,"XHR.open");var f=function(c){var i=document.createElement("a");i.href=c;c=document.location;return":"===i.protocol&&""===i.hostname&&""===i.port||i.protocol===c.protocol&&i.hostname===c.hostname&&i.port===c.port};h.I.send=a.b.around(h.I.send,function(){var n=this,e=n._adrumXhrData;if(e){var i=(new Date).getTime();a.assert(null===e.sendTime,"M35");e.sendTime=e.sendTime||i;e.parentPhase=a.lifecycle.dd;f(e.url)?n.setRequestHeader("ADRUM","isAjax:true"):a.debug("M36",document.location.href,e.url);var m=0,j=function(){if(4==n.readyState){a.debug("M37"),h.ab(n)}else{var l=null;try{l=n.onreadystatechange}catch(k){a.debug("M38",k);h.ab(n);return}m++;l?a.b.support(l)?(n.onreadystatechange=h.Vb(l,n,"XHR.onReadyStateChange"),a.debug("M39",m)):(a.debug("M40"),h.ab(n)):5>m?a.a.nc(j):(a.debug("M41"),h.ab(n))}};j()}},null,"XHR.send");"addEventListener" in h.I&&"removeEventListener" in h.I&&a.b.support(h.I.addEventListener)&&a.b.support(h.I.removeEventListener)?(h.I.addEventListener=a.b.around(h.I.addEventListener,a.a.Ub(),null,"XHR.addEventListener"),h.I.removeEventListener=a.b.around(h.I.removeEventListener,function(k,j){if(this._adrumXhrData){var i=Array.prototype.slice.call(arguments);j.__adrumInterceptor?(i[1]=j.__adrumInterceptor,a.debug("M42")):a.debug("M43");return i}},null,"XHR.removeEventListener")):a.debug("M44");a.info("M45")}else{a.info("M28")}}else{a.info("M27")}}else{a.info("M26")}}else{a.info("M25")}}})(a.c||(a.c={}));var d=a.c})(b||(b={}));(function(){"APP_KEY_NOT_SET"===window.ADRUM.appKey&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']");var a=window.ADRUM;a.a.M(document.cookie,document.referrer);a.command("mark","firstbyte",window["adrum-start-time"]);a.listenForErrors();a.addEventListener(window,"load",a.j);a.h()})(b||(b={}))}})()})();